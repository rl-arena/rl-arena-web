<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Redirecting...</title>
  <script>
    // GitHub Pages에서 새로고침 시 404 오류를 우회하기 위한 스크립트입니다.
    // 이 스크립트는 요청된 URL의 경로를 저장하고, 기본 경로로 리디렉션하여 React가 경로를 처리하도록 합니다.

    (function() {
      // 1. 현재 URL의 경로를 저장합니다. (예: /rl-arena-web/dashboard)
      var path = window.location.pathname;
      var repoName = '/rl-arena-web'; // 리포지토리 이름

      // 2. 경로에서 리포지토리 이름을 제외한 실제 SPA 경로를 추출합니다.
      // 예: /rl-arena-web/dashboard -> /dashboard
      if (path.startsWith(repoName)) {
        path = path.substring(repoName.length);
      }
      
      // 3. 브라우저 세션 저장소에 요청된 경로를 저장합니다.
      sessionStorage.setItem('redirect', path);
      
      // 4. 리포지토리의 기본 index.html 파일이 있는 위치로 리디렉션합니다.
      // React 앱이 로드된 후 sessionStorage에서 경로를 읽어 자동으로 이동합니다.
      window.location.replace(repoName + '/');
    })();
  </script>
</head>
<body>
  <p>잠시 후 자동으로 페이지가 로드됩니다. 이 과정이 반복되면 브라우저 캐시를 삭제해 주세요.</p>
</body>
</html>